<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Interview Assistant</title>
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div class="container">
            <!-- Header -->
            <header class="header">
                <h1 class="title">Interview Assistant</h1>
                <button
                    id="settingsBtn"
                    class="settings-btn"
                    title="Configure Webhook"
                >
                    <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                    >
                        <circle cx="12" cy="12" r="3"></circle>
                        <path
                            d="M12 1v6m0 6v6M4.22 4.22l4.24 4.24m5.08 5.08l4.24 4.24M1 12h6m6 0h6m-17.78 7.78l4.24-4.24m5.08-5.08l4.24-4.24"
                        ></path>
                    </svg>
                </button>
            </header>

            <!-- Main Content Area -->
            <div class="content-wrapper">
                <!-- Left Panel: Transcript -->
                <div class="panel left-panel">
                    <div class="panel-header">
                        <h2>Transcript</h2>
                        <span class="status-badge" id="transcriptStatus"
                            >Idle</span
                        >
                    </div>
                    <div class="transcript-content" id="transcriptContent">
                        <p class="placeholder">
                            Waiting for Google Meet to start...
                        </p>
                    </div>
                    <div class="panel-actions">
                        <button id="submitBtn" class="btn btn-primary">
                            <svg
                                width="16"
                                height="16"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <polyline
                                    points="20 4 3 4 3 20 20 20"
                                ></polyline>
                                <polyline points="3 9 21 9"></polyline>
                            </svg>
                            Submit Q&A
                        </button>
                        <button id="clearBtn" class="btn btn-secondary">
                            <svg
                                width="16"
                                height="16"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="15" y1="9" x2="9" y2="15"></line>
                                <line x1="9" y1="9" x2="15" y2="15"></line>
                            </svg>
                            Clear
                        </button>
                    </div>
                </div>

                <!-- Right Panel: Meeting Notes -->
                <div class="panel right-panel">
                    <div class="panel-header">
                        <h2>Meeting Notes</h2>
                        <span class="sync-indicator" id="syncIndicator">✓</span>
                    </div>
                    <div class="notes-content" id="notesContent">
                        <p class="placeholder">
                            No notes yet. Configure webhook to start receiving
                            notes from n8n.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Webhook Configuration Modal -->
            <div class="modal" id="settingsModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Configure n8n Webhook</h2>
                        <button class="modal-close" id="closeModalBtn">
                            ×
                        </button>
                    </div>
                    <div class="modal-body">
                        <label for="webhookInput" class="form-label"
                            >n8n Webhook URL:</label
                        >
                        <input
                            type="url"
                            id="webhookInput"
                            class="form-input"
                            placeholder="https://your-n8n-instance.com/webhook/..."
                            required
                        />
                        <small class="form-hint"
                            >Your webhook endpoint for sending interview
                            transcripts.</small
                        >
                    </div>
                    <div class="modal-footer">
                        <button id="cancelBtn" class="btn btn-secondary">
                            Cancel
                        </button>
                        <button id="saveWebhookBtn" class="btn btn-primary">
                            Save Webhook
                        </button>
                    </div>
                </div>
            </div>

            <!-- Overlay for Modal -->
            <div class="modal-overlay" id="modalOverlay"></div>
        </div>

        <script src="sidepanel.js"></script>
    </body>
</html>
