<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Interview Assistant</title>
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div class="container">
            <!-- Header -->
            <header class="header">
                <h1 class="title">面試助手</h1>
            </header>

            <!-- Main Content Area -->
            <div class="content-wrapper">
                <!-- Left Panel: Transcript -->
                <div class="panel left-panel">
                    <div class="panel-header">
                        <h2>逐字稿</h2>
                        <span class="status-badge" id="transcriptStatus"
                            >閒置</span
                        >
                    </div>
                    <div class="transcript-content" id="transcriptContent">
                        <p class="placeholder">等待 Google Meet 開始...</p>
                    </div>
                    <div class="panel-actions">
                        <button id="submitBtn" class="btn btn-primary">
                            <img
                                src="assets/submit.png"
                                alt="Submit"
                                width="16"
                                height="16"
                            />
                            上傳筆記
                        </button>
                        <button id="clearBtn" class="btn btn-secondary">
                            <img
                                src="assets/clear.png"
                                alt="Clear"
                                width="16"
                                height="16"
                            />
                            清除筆記
                        </button>
                    </div>
                </div>

                <!-- Right Panel: Meeting Notes -->
                <div class="panel right-panel">
                    <div class="panel-header">
                        <h2>面試筆記</h2>
                        <span class="sync-indicator" id="syncIndicator">✓</span>
                    </div>
                    <div class="notes-content" id="notesContent">
                        <p class="placeholder">
                            尚無筆記。請設定 webhook 以開始接收來自 n8n 的筆記。
                        </p>
                    </div>
                </div>

                <!-- Right Toolbar -->
                <div class="toolbar">
                    <!-- Webhook Configuration Panel -->
                    <div
                        class="toolbar-section webhook-panel"
                        id="webhookPanel"
                        style="display: none"
                    >
                        <div class="webhook-header">
                            <h3>設定 Webhook</h3>
                            <button class="webhook-close" id="closeWebhookBtn">
                                ×
                            </button>
                        </div>
                        <div class="webhook-body">
                            <label for="webhookInput" class="webhook-label"
                                >n8n Webhook URL:</label
                            >
                            <input
                                type="url"
                                id="webhookInput"
                                class="webhook-input"
                                placeholder="https://your-n8n-instance.com/webhook/..."
                                required
                            />
                            <small class="webhook-hint"
                                >將轉錄內容發送到此 webhook。</small
                            >
                            <div class="webhook-actions">
                                <button
                                    id="cancelWebhookBtn"
                                    class="btn btn-secondary btn-sm"
                                >
                                    取消
                                </button>
                                <button
                                    id="saveWebhookBtn"
                                    class="btn btn-primary btn-sm"
                                >
                                    儲存
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Buttons -->
                    <button
                        id="settingsBtn"
                        class="toolbar-btn"
                        title="設定 Webhook"
                    >
                        <img
                            src="assets/settings.png"
                            alt="Settings"
                            width="20"
                            height="20"
                        />
                    </button>
                    <button
                        id="darkModeBtn"
                        class="toolbar-btn"
                        title="切換深色模式"
                        aria-label="Dark Mode"
                    >
                        <img
                            class="sun-icon"
                            src="assets/sun.png"
                            alt="Light Mode"
                            width="20"
                            height="20"
                        />
                        <img
                            class="moon-icon"
                            src="assets/moon.png"
                            alt="Dark Mode"
                            width="20"
                            height="20"
                            style="display: none"
                        />
                    </button>
                </div>
            </div>

            <!-- Overlay for Modal -->
            <div class="modal-overlay" id="modalOverlay"></div>
        </div>

        <script src="sidepanel.js"></script>
    </body>
</html>
